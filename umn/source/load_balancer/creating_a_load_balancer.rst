:original_name: elb_lb_000006.html

.. _elb_lb_000006:

Creating a Load Balancer
========================

Scenarios
---------

You have prepared everything required for creating a load balancer. For details, see :ref:`Preparations for Creating a Load Balancer <elb_ug_fz_0004>`.

Constraints and Limitations
---------------------------

-  After a load balancer is created, the VPC cannot be changed. If you want to change the VPC, create another load balancer and select the VPC during creation.

Procedure
---------

#. Log in to the management console.

#. In the upper left corner of the page, click |image1| and select the desired region and project.

#. Hover on |image2| in the upper left corner to display **Service List** and choose **Network** > **Elastic Load Balancing**.

#. Click **Create Elastic Load Balancer** and specify the parameters by referring to :ref:`Table 1 <elb_lb_000006__en-us_topic_0172674943_table08421211125410>`.

   .. _elb_lb_000006__en-us_topic_0172674943_table08421211125410:

   .. table:: **Table 1** Parameter description

      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                                              | Example Value         |
      +===================================+==========================================================================================================================================================================================================================================================================================================================================+=======================+
      | Region                            | Specifies the region. Resources in different regions cannot communicate with each other over internal networks. For lower network latency and faster access to resources, select the nearest region.                                                                                                                                     | eu-ch2                |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Cross-VPC Backend                 | Specifies whether to associate backend servers that are not in the VPC of the load balancer. After this function is enabled, you can associate the backend servers with the load balancer by using their IP addresses.                                                                                                                   | N/A                   |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | .. note::                                                                                                                                                                                                                                                                                                                                |                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   |    -  To use this function, configure correct VPC routes to ensure that backend servers are reachable.                                                                                                                                                                                                                                   |                       |
      |                                   |    -  If you enable the cross-VPC backend function, more IP addresses in the subnet will be occupied. Ensure that the selected subnet has sufficient IP addresses. After you select a subnet, you can view the number of IP addresses required by the load balancer in the infotip.                                                      |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Network Type                      | Specifies the type of the network where the load balancer works. You can select one or more network types.                                                                                                                                                                                                                               | Public IPv4 network   |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | -  **Public IPv4 network**: The load balancer routes requests from the clients to backend servers over the Internet.                                                                                                                                                                                                                     |                       |
      |                                   | -  **Private IPv4 network**: The load balancer routes requests from the clients to backend servers in a VPC.                                                                                                                                                                                                                             |                       |
      |                                   | -  **IPv6 network**: An IPv6 address will be assigned to the load balancer to route requests from IPv6 clients.                                                                                                                                                                                                                          |                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | .. note::                                                                                                                                                                                                                                                                                                                                |                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   |    If you do not select any of the options, the load balancer cannot communicate with the clients after it is created. When you are using ELB or testing network connectivity, ensure that the load balancer has a public or private IP address bound.                                                                                   |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | VPC                               | Specifies the VPC where the load balancer works. You need to configure this parameter regardless of the selected network type.                                                                                                                                                                                                           | vpc-4536              |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | Select an existing VPC or create one.                                                                                                                                                                                                                                                                                                    |                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | For more information about VPC, see the *Virtual Private Cloud User Guide*.                                                                                                                                                                                                                                                              |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Subnet                            | Specifies the subnet where the load balancer will reside.                                                                                                                                                                                                                                                                                | subnet-4536           |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | You need to configure this parameter regardless of the selected network type.                                                                                                                                                                                                                                                            |                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | If you select **IPv6 network** for **Network Type** and the selected VPC does not have any subnet that supports IPv6, enable IPv6 for the subnets or create a subnet that supports IPv6. For details, see the `Virtual Private Cloud User Guide <https://docs.sc.otc.t-systems.com/en-us/usermanual/vpc/en-us_topic_0013748726.html>`__. |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Public IPv4 network configuration |                                                                                                                                                                                                                                                                                                                                          |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | EIP                               | This parameter is mandatory when **Network Type** is set to **IPv4 public network**. You can use an existing EIP or apply for a new one. If you select **Use existing**, select an existing IP address.                                                                                                                                  | N/A                   |
      |                                   |                                                                                                                                                                                                                                                                                                                                          |                       |
      |                                   | -  **New EIP**: The system will assign a new EIP to the load balancer.                                                                                                                                                                                                                                                                   |                       |
      |                                   | -  **Use existing**: Select an existing IP address.                                                                                                                                                                                                                                                                                      |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | EIP Type                          | Specifies the link type (BGP) when a new EIP is used.                                                                                                                                                                                                                                                                                    | Dynamic BGP           |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Name                              | Specifies the load balancer name.                                                                                                                                                                                                                                                                                                        | elb93wd               |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | **Advanced Settings**             |                                                                                                                                                                                                                                                                                                                                          |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Description                       | Provides supplementary information about the load balancer.                                                                                                                                                                                                                                                                              | N/A                   |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+
      | Tag                               | Identifies load balancers so that they can be easily found. A tag consists of a tag key and a tag value. The tag key marks a tag, and the tag value specifies the tag content. For details about the naming specifications, see :ref:`Table 2 <elb_lb_000006__en-us_topic_0172674943_table1184315114541>`.                               | -  Key: elb_key1      |
      |                                   |                                                                                                                                                                                                                                                                                                                                          | -  Value: elb-01      |
      |                                   | A maximum of 10 tags can be added.                                                                                                                                                                                                                                                                                                       |                       |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+-----------------------+

   .. _elb_lb_000006__en-us_topic_0172674943_table1184315114541:

   .. table:: **Table 2** Tag naming rules

      +-----------------------+----------------------------------------------------------------------------------+-----------------------+
      | Item                  | Requirement                                                                      | Example Value         |
      +=======================+==================================================================================+=======================+
      | Tag key               | -  Cannot be left blank.                                                         | elb_key1              |
      |                       | -  Must be unique for the same load balancer.                                    |                       |
      |                       | -  Can contain a maximum of 36 characters.                                       |                       |
      |                       | -  Only letters, digits, underscores (_), hyphens (-), at signs (@) are allowed. |                       |
      +-----------------------+----------------------------------------------------------------------------------+-----------------------+
      | Tag value             | -  Can contain a maximum of 43 characters.                                       | elb-01                |
      |                       | -  Only letters, digits, underscores (_), hyphens (-), at signs (@) are allowed. |                       |
      +-----------------------+----------------------------------------------------------------------------------+-----------------------+

#. Click **Create Now**.

#. Confirm the configuration and submit your request.

.. |image1| image:: /_static/images/en-us_image_0000001495375721.png
.. |image2| image:: /_static/images/en-us_image_0000001495615121.png
